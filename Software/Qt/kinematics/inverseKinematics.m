clear all
close all
clc

syms C2 C3 C4 S2 S3 S4 d1 d4 a1 a2 a3 

A1 = [  1 0 0 a1;
        0 1 0 0;
        0 0 1 d1;
        0 0 0 1];

A21 = [ C2 -S2  0   0;
        S2  C2  0   0;
        0   0   1   0;
        0   0   0   1];

A22 = [ 1   0   0   a2;
        0   1   0   0;
        0   0   1   0;
        0   0   0   1];

A2 = A21*A22;

A31 = [ C3  -S3 0   0;
        S3  C3  0   0;
        0   0   1   0;
        0   0   0   1];
A32 = [ 1   0   0   a3;
        0   1   0   0;
        0   0   1   0;
        0   0   0   1];

A3 = A31*A32;

A41 = [ C4  -S4 0   0;
        S4  C4  0   0;
        0   0   1   0;
        0   0   0   1];

A42 = [ 1   0   0   0;
        0   1   0   0;
        0   0   1   -d4;
        0   0   0   1];


A43 = [ 1   0   0   0;
        0   -1  0   0;
        0   0   -1  0;
        0   0   0   1];

A4 = A41*A42*A43;

A03 = A1*A2*A3*A4

